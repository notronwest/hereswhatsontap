{% extends '@App/admin/admin.html.twig' %}

{% block body %}
<div class="widget">
    <div class="widget-header bordered-bottom">
        <span class="widget-caption">Displaying beers for {{ tap.getName() }} [{{ tap.getNumberOfTaps() }} taps available]</span>
    </div>
    <div class="widget-body">
        <form class="form" role="form" action="{{ path('saveTapBeers') }}" method="post">
            <input type="hidden" name="tap_id" value=""/>
            <div class="form-group">
                <div class="dd dd-draghandle">
                    <ol class="dd-list">
                        {% for beer in beers %}
                            <li class="dd-item dd2-item" data-id="">
                                <div class="dd-handle dd2-handle">
                                    <i class="normal-icon fa fa-beer"></i>
                                    <i class="drag-icon fa fa-arrows-alt "></i>
                                </div>
                                <div class="dd2-content">{{ dump(beer) }}</div>
                            </li>
                        {% endfor %}
                        <!-- // put out place holders for any beers that haven't been added -->
                        {% for i in 0..(tap.getNumberOfTaps - beers|length) %}
                            <li class="dd-item dd2-item" data-id="">
                                <div class="dd-handle dd2-handle">
                                    <i class="normal-icon fa fa-beer"></i>
                                    <i class="drag-icon fa fa-arrows-alt "></i>
                                </div>
                                <div class="dd2-content">
                                    <div class="col-xs-2">Empty</div>
                                    <div class="col-xs-10 text-right">
                                        <a href="{{ path('editBeer', { beer_id: '', tap_id: tap.getID() }) }}" class="btn btn-xs">Add Beer</a>
                                        <a href="{{ path('searchForBeers') }}" class="btn btn-xs icon-only">
                                            <i class="fa fa-search"></i>
                                        </a>
                                    </div>
                                </div>
                            </li>
                        {% endfor %}
                    </ol>
                </div>
            </div>
            <a href="{{ path('editTap', { tap_id: tap.getID()}) }}" class="btn">Cancel</a>
            <button type="submit" name="save" value="true" class="btn btn-primary">Save</button>
        </form>
    </div>
</div>
{% endblock %}